spring.datasource.url=${workspace-sql-db-url}
spring.datasource.username=${workspace-sql-db-user}
spring.datasource.password=${workspace-sql-db-password}
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver
spring.jpa.hibernate.ddl-auto=update   
spring.jpa.show-sql=true               
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect
spring.cloud.azure.keyvault.secret.property-sources[0].endpoint=https://dev-vault-workspace.vault.azure.net/
spring.cloud.azure.profile.tenant-id=${AZURE_TENANT_ID}
spring.cloud.azure.credential.client-id=${AZURE_CLIENT_ID}
spring.cloud.azure.credential.client-secret=${AZURE_CLIENT_SECRET}
server.port=${PORT:8080}

# HikariCP Configuration for Azure SQL Serverless
# Close idle connections
spring.datasource.hikari.minimum-idle=0
# Limit max active connections
spring.datasource.hikari.maximum-pool-size=5
# 30 sec idle before considered idle
spring.datasource.hikari.idle-timeout=30000
# 10 min max lifetime of a connection
spring.datasource.hikari.max-lifetime=600000
# lightweight test
spring.datasource.hikari.connection-test-query=SELECT 1
# Disable periodic keepalive (prevents DB from staying awake)
spring.datasource.hikari.keepalive-time=0


